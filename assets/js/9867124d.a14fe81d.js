/*! For license information please see 9867124d.a14fe81d.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[893749],{532189:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var r=t(824246),a=t(511151);const o={id:"getting-started",title:"Getting Started with Search",description:"How to set up and install Backstage Search"},s=void 0,c={unversionedId:"features/search/getting-started",id:"features/search/getting-started",title:"Getting Started with Search",description:"How to set up and install Backstage Search",source:"@site/../docs/features/search/getting-started.md",sourceDirName:"features/search",slug:"/features/search/getting-started",permalink:"/docs/features/search/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/features/search/getting-started.md",tags:[],version:"current",frontMatter:{id:"getting-started",title:"Getting Started with Search",description:"How to set up and install Backstage Search"},sidebar:"docs",previous:{title:"Overview",permalink:"/docs/features/search/"},next:{title:"Search Concepts",permalink:"/docs/features/search/concepts"}},i={},l=[{value:"Adding Search to the Frontend",id:"adding-search-to-the-frontend",level:2},{value:"Using the Search Modal",id:"using-the-search-modal",level:3},{value:"Adding Search to the Backend",id:"adding-search-to-the-backend",level:2},{value:"Customizing Search",id:"customizing-search",level:2},{value:"Frontend",id:"frontend",level:3},{value:"Backend",id:"backend",level:3}];function u(e){const n=Object.assign({p:"p",a:"a",blockquote:"blockquote",code:"code",h2:"h2",pre:"pre",h3:"h3"},(0,a.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Search functions as a plugin to Backstage, so you will need to use Backstage to\nuse Search."}),"\n",(0,r.jsxs)(n.p,{children:["If you haven't setup Backstage already, start\n",(0,r.jsx)(n.a,{href:"/docs/getting-started/",children:"here"}),"."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["If you used ",(0,r.jsx)(n.code,{children:"npx @backstage/create-app"}),", and you have a search page defined in\n",(0,r.jsx)(n.code,{children:"packages/app/src/components/search"}),", skip to\n",(0,r.jsx)(n.a,{href:"#customizing-search",children:(0,r.jsx)(n.code,{children:"Customizing Search"})})," below."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"adding-search-to-the-frontend",children:"Adding Search to the Frontend"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# From your Backstage root directory\nyarn add --cwd packages/app @backstage/plugin-search @backstage/plugin-search-react\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create a new ",(0,r.jsx)(n.code,{children:"packages/app/src/components/search/SearchPage.tsx"})," file in your\nBackstage app with the following contents:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport { Content, Header, Page } from '@backstage/core-components';\nimport { Grid, List, Card, CardContent } from '@material-ui/core';\nimport {\n  SearchBar,\n  SearchResult,\n  DefaultResultListItem,\n  SearchFilter,\n} from '@backstage/plugin-search-react';\nimport { CatalogSearchResultListItem } from '@backstage/plugin-catalog';\n\nexport const searchPage = (\n  <Page themeId=\"home\">\n    <Header title=\"Search\" />\n    <Content>\n      <Grid container direction=\"row\">\n        <Grid item xs={12}>\n          <SearchBar />\n        </Grid>\n        <Grid item xs={3}>\n          <Card>\n            <CardContent>\n              <SearchFilter.Select\n                name=\"kind\"\n                values={['Component', 'Template']}\n              />\n            </CardContent>\n            <CardContent>\n              <SearchFilter.Checkbox\n                name=\"lifecycle\"\n                values={['experimental', 'production']}\n              />\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={9}>\n          <SearchResult>\n            {({ results }) => (\n              <List>\n                {results.map(result => {\n                  switch (result.type) {\n                    case 'software-catalog':\n                      return (\n                        <CatalogSearchResultListItem\n                          key={result.document.location}\n                          result={result.document}\n                          highlight={result.highlight}\n                        />\n                      );\n                    default:\n                      return (\n                        <DefaultResultListItem\n                          key={result.document.location}\n                          result={result.document}\n                          highlight={result.highlight}\n                        />\n                      );\n                  }\n                })}\n              </List>\n            )}\n          </SearchResult>\n        </Grid>\n      </Grid>\n    </Content>\n  </Page>\n);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Bind the above Search Page to the ",(0,r.jsx)(n.code,{children:"/search"})," route in your\n",(0,r.jsx)(n.code,{children:"packages/app/src/App.tsx"})," file, like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { SearchPage } from '@backstage/plugin-search';\nimport { searchPage } from './components/search/SearchPage';\n\nconst routes = (\n  <FlatRoutes>\n    <Route path=\"/search\" element={<SearchPage />}>\n      {searchPage}\n    </Route>\n  </FlatRoutes>\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"using-the-search-modal",children:"Using the Search Modal"}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"Root.tsx"}),", add the ",(0,r.jsx)(n.code,{children:"SidebarSearchModal"})," component:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"import { SidebarSearchModal } from '@backstage/plugin-search';\n\nexport const Root = ({ children }: PropsWithChildren<{}>) => (\n  <SidebarPage>\n    <Sidebar>\n      <SidebarLogo />\n      <SidebarSearchModal />\n      <SidebarDivider />\n...\n"})}),"\n",(0,r.jsxs)(n.p,{children:["For more information about using ",(0,r.jsx)(n.code,{children:"Root.tsx"}),", please see\n",(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/packages/create-app/CHANGELOG.md#0315",children:"the changelog"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"adding-search-to-the-backend",children:"Adding Search to the Backend"}),"\n",(0,r.jsx)(n.p,{children:"Add the following plugins into your backend app:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# From your Backstage root directory\nyarn add --cwd packages/backend @backstage/plugin-search-backend @backstage/plugin-search-backend-node\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create a ",(0,r.jsx)(n.code,{children:"packages/backend/src/plugins/search.ts"})," file containing the following\ncode:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useHotCleanup } from '@backstage/backend-common';\nimport { createRouter } from '@backstage/plugin-search-backend';\nimport {\n  IndexBuilder,\n  LunrSearchEngine,\n} from '@backstage/plugin-search-backend-node';\nimport { PluginEnvironment } from '../types';\nimport { DefaultCatalogCollator } from '@backstage/plugin-catalog-backend';\nimport { Router } from 'express';\n\nexport default async function createPlugin(\n  env: PluginEnvironment,\n): Promise<Router> {\n  const searchEngine = new LunrSearchEngine({\n    logger: env.logger,\n  });\n  const indexBuilder = new IndexBuilder({\n    logger: env.logger,\n    searchEngine,\n  });\n\n  const every10MinutesSchedule = env.scheduler.createScheduledTaskRunner({\n    frequency: { minutes: 10 },\n    timeout: { minutes: 15 },\n    initialDelay: { seconds: 3 },\n  });\n\n  indexBuilder.addCollator({\n    schedule: every10MinutesSchedule,\n    factory: DefaultCatalogCollatorFactory.fromConfig(env.config, {\n      discovery: env.discovery,\n      tokenManager: env.tokenManager,\n    }),\n  });\n\n  const { scheduler } = await indexBuilder.build();\n\n  scheduler.start();\n  useHotCleanup(module, () => scheduler.stop());\n\n  return await createRouter({\n    engine: indexBuilder.getSearchEngine(),\n    logger: env.logger,\n  });\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Make the following modifications to your ",(0,r.jsx)(n.code,{children:"packages/backend/src/index.ts"})," file:"]}),"\n",(0,r.jsxs)(n.p,{children:["Import the ",(0,r.jsx)(n.code,{children:"plugins/search"})," file you created above:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import search from './plugins/search';\n"})}),"\n",(0,r.jsx)(n.p,{children:"Set up an environment for search:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const searchEnv = useHotMemoize(module, () => createEnv('search'));\n"})}),"\n",(0,r.jsx)(n.p,{children:"Register the search service with the router:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"apiRouter.use('/search', await search(searchEnv));\n"})}),"\n",(0,r.jsx)(n.h2,{id:"customizing-search",children:"Customizing Search"}),"\n",(0,r.jsx)(n.h3,{id:"frontend",children:"Frontend"}),"\n",(0,r.jsxs)(n.p,{children:["The Search Plugin web library (",(0,r.jsx)(n.code,{children:"@backstage/plugin-search-react"}),") exposes several default filter types as static properties,\nincluding ",(0,r.jsx)(n.code,{children:"<SearchFilter.Select />"})," and ",(0,r.jsx)(n.code,{children:"<SearchFilter.Checkbox />"}),". These allow\nyou to provide values relevant to your Backstage instance that, when selected,\nget passed to the backend."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:"{2-5,8-11}",children:"<CardContent>\n  <SearchFilter.Select\n    name=\"kind\"\n    values={['Component', 'Template']}\n  />\n</CardContent>\n<CardContent>\n  <SearchFilter.Checkbox\n    name=\"lifecycle\"\n    values={['production', 'experimental']}\n  />\n</CardContent>\n"})}),"\n",(0,r.jsx)(n.p,{children:"If you have advanced filter needs, you can specify your own filter component\nlike this (although new core filter contributions are welcome):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { useSearch, SearchFilter } from '@backstage/plugin-search-react';\n\nconst MyCustomFilter = () => {\n  // Note: filters contain filter data from other filter components. Be sure\n  // not to clobber other filters' data!\n  const { filters, setFilters } = useSearch();\n\n  return (/* ... */);\n};\n\n// Which could be rendered like this:\n<SearchFilter component={MyCustomFilter} />\n"})}),"\n",(0,r.jsxs)(n.p,{children:["It's good practice for search results to highlight information that was used to\nreturn it in the first place! The code below highlights how you might specify a\ncustom result item component, using the ",(0,r.jsx)(n.code,{children:"<CatalogSearchResultListItem />"})," component as\nan example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:"{7-13}",children:"<SearchResult>\n  {({ results }) => (\n    <List>\n      {results.map(result => {\n        // result.type is the index type defined by the collator.\n        switch (result.type) {\n          case 'software-catalog':\n            return (\n              <CatalogSearchResultListItem\n                key={result.document.location}\n                result={result.document}\n                highlight={result.highlight}\n              />\n            );\n          // ...\n        }\n      })}\n    </List>\n  )}\n</SearchResult>\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["For more advanced customization of the Search frontend, also see how to guides such as ",(0,r.jsx)(n.a,{href:"/docs/features/search/how-to-guides#how-to-implement-your-own-search-api",children:"How to implement your own Search API"})," and ",(0,r.jsx)(n.a,{href:"/docs/features/search/how-to-guides#how-to-customize-search-results-highlighting-styling",children:"How to customize search results highlighting styling"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"backend",children:"Backend"}),"\n",(0,r.jsxs)(n.p,{children:["Backstage Search isn't a search engine itself, rather, it provides an interface\nbetween your Backstage instance and a\n",(0,r.jsx)(n.a,{href:"/docs/features/search/concepts#search-engines",children:"Search Engine"})," of your choice. Currently, we only\nsupport two engines, an in-memory search Engine called Lunr and Elasticsearch.\nSee ",(0,r.jsx)(n.a,{href:"/docs/features/search/search-engines",children:"Search Engines"})," documentation for more information how\nto configure these in your Backstage instance."]}),"\n",(0,r.jsxs)(n.p,{children:["Backstage Search can be used to power search of anything! Plugins like the\nCatalog offer default ",(0,r.jsx)(n.a,{href:"/docs/features/search/concepts#collators",children:"collators"})," (e.g.\n",(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/df12cc25aa4934a98bc42ed03c07f64a1a0a9d72/plugins/catalog-backend/src/search/DefaultCatalogCollator.ts",children:"DefaultCatalogCollator"}),")\nwhich are responsible for providing documents\n",(0,r.jsx)(n.a,{href:"/docs/features/search/concepts#documents-and-indices",children:"to be indexed"}),". You can register any\nnumber of collators with the ",(0,r.jsx)(n.code,{children:"IndexBuilder"})," like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const indexBuilder = new IndexBuilder({ logger: env.logger, searchEngine });\n\nconst every10MinutesSchedule = env.scheduler.createScheduledTaskRunner({\n  frequency: { minutes: 10 },\n  timeout: { minutes: 15 },\n  initialDelay: { seconds: 3 },\n});\n\nconst everyHourSchedule = env.scheduler.createScheduledTaskRunner({\n  frequency: { hours: 1 },\n  timeout: { minutes: 90 },\n  initialDelay: { seconds: 3 },\n});\n\nindexBuilder.addCollator({\n  schedule: every10MinutesSchedule,\n  factory: DefaultCatalogCollatorFactory.fromConfig(env.config, {\n    discovery: env.discovery,\n    tokenManager: env.tokenManager,\n  }),\n});\n\nindexBuilder.addCollator({\n  schedule: everyHourSchedule,\n  factory: new MyCustomCollatorFactory(),\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Backstage Search builds and maintains its index\n",(0,r.jsx)(n.a,{href:"/docs/features/search/concepts#the-scheduler",children:"on a schedule"}),". You can change how often the\nindexes are rebuilt for a given type of document. You may want to do this if\nyour documents are updated more or less frequently. You can do so by configuring\na scheduled ",(0,r.jsx)(n.code,{children:"TaskRunner"})," to pass into the ",(0,r.jsx)(n.code,{children:"schedule"})," value, like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"{3}",children:"const every10MinutesSchedule = env.scheduler.createScheduledTaskRunner({\n  frequency: { minutes: 10 },\n  timeout: { minutes: 15 },\n  initialDelay: { seconds: 3 },\n});\n\nindexBuilder.addCollator({\n  schedule: every10MinutesSchedule,\n  factory: DefaultCatalogCollatorFactory.fromConfig(env.config, {\n    discovery: env.discovery,\n    tokenManager: env.tokenManager,\n  }),\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Note: if you are using the in-memory Lunr search engine, you probably want to\nimplement a non-distributed ",(0,r.jsx)(n.code,{children:"TaskRunner"})," like the following to ensure consistency\nif you're running multiple search backend nodes (alternatively, you can configure\nthe search plugin to use a non-distributed database such as\n",(0,r.jsx)(n.a,{href:"/docs/tutorials/configuring-plugin-databases#postgresql-and-sqlite-3",children:"SQLite"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { TaskInvocationDefinition, TaskRunner } from '@backstage/backend-tasks';\n\nconst schedule: TaskRunner = {\n  run: async (task: TaskInvocationDefinition) => {\n    const startRefresh = async () => {\n      while (!task.signal?.aborted) {\n        try {\n          await task.fn(task.signal);\n        } catch {\n          // ignore intentionally\n        }\n\n        await new Promise(resolve => setTimeout(resolve, 600 * 1000));\n      }\n    };\n    startRefresh();\n  },\n};\n\nindexBuilder.addCollator({\n  schedule,\n  factory: DefaultCatalogCollatorFactory.fromConfig(env.config, {\n    discovery: env.discovery,\n    tokenManager: env.tokenManager,\n  }),\n});\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["For more advanced customization of the Search backend, also see how to guides such as ",(0,r.jsx)(n.a,{href:"/docs/features/search/how-to-guides#how-to-index-techdocs-documents",children:"How to index TechDocs documents"})," and ",(0,r.jsx)(n.a,{href:"/docs/features/search/how-to-guides#how-to-limit-what-can-be-searched-in-the-software-catalog",children:"How to limit what can be searched in the Software Catalog"})]}),"\n"]})]})}const d=function(e={}){const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(u,e)})):u(e)}},862525:e=>{var n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,a){for(var o,s,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var l in o=Object(arguments[i]))t.call(o,l)&&(c[l]=o[l]);if(n){s=n(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(c[s[u]]=o[s[u]])}}return c}},371426:(e,n,t)=>{t(862525);var r=t(827378),a=60103;if(n.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),n.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c=Object.prototype.hasOwnProperty,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,t){var r,o={},l=null,u=null;for(r in void 0!==t&&(l=""+t),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(u=n.ref),n)c.call(n,r)&&!i.hasOwnProperty(r)&&(o[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===o[r]&&(o[r]=n[r]);return{$$typeof:a,type:e,key:l,ref:u,props:o,_owner:s.current}}n.jsx=l,n.jsxs=l},541535:(e,n,t)=>{var r=t(862525),a=60103,o=60106;n.Fragment=60107,n.StrictMode=60108,n.Profiler=60114;var s=60109,c=60110,i=60112;n.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),o=d("react.portal"),n.Fragment=d("react.fragment"),n.StrictMode=d("react.strict_mode"),n.Profiler=d("react.profiler"),s=d("react.provider"),c=d("react.context"),i=d("react.forward_ref"),n.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||p}function y(){}function x(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,n,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var v=x.prototype=new y;v.constructor=x,r(v,m.prototype),v.isPureReactComponent=!0;var b={current:null},k=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,n,t){var r,o={},s=null,c=null;if(null!=n)for(r in void 0!==n.ref&&(c=n.ref),void 0!==n.key&&(s=""+n.key),n)k.call(n,r)&&!j.hasOwnProperty(r)&&(o[r]=n[r]);var i=arguments.length-2;if(1===i)o.children=t;else if(1<i){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===o[r]&&(o[r]=i[r]);return{$$typeof:a,type:e,key:s,ref:c,props:o,_owner:b.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function _(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function R(e,n,t,r,s){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var i=!1;if(null===e)i=!0;else switch(c){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case a:case o:i=!0}}if(i)return s=s(i=e),e=""===r?"."+_(i,0):r,Array.isArray(s)?(t="",null!=e&&(t=e.replace(C,"$&/")+"/"),R(s,n,t,"",(function(e){return e}))):null!=s&&(w(s)&&(s=function(e,n){return{$$typeof:a,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(s,t+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),n.push(s)),1;if(i=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+_(c=e[l],l);i+=R(c,n,t,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(c=e.next()).done;)i+=R(c=c.value,n,t,u=r+_(c,l++),s);else if("object"===c)throw n=""+e,Error(f(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n));return i}function E(e,n,t){if(null==e)return e;var r=[],a=0;return R(e,r,"","",(function(e){return n.call(t,e,a++)})),r}function P(e){if(-1===e._status){var n=e._result;n=n(),e._status=0,e._result=n,n.then((function(n){0===e._status&&(n=n.default,e._status=1,e._result=n)}),(function(n){0===e._status&&(e._status=2,e._result=n)}))}if(1===e._status)return e._result;throw e._result}var B={current:null};function O(){var e=B.current;if(null===e)throw Error(f(321));return e}var F={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};n.Children={map:E,forEach:function(e,n,t){E(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return E(e,(function(){n++})),n},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error(f(143));return e}},n.Component=m,n.PureComponent=x,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,n.cloneElement=function(e,n,t){if(null==e)throw Error(f(267,e));var o=r({},e.props),s=e.key,c=e.ref,i=e._owner;if(null!=n){if(void 0!==n.ref&&(c=n.ref,i=b.current),void 0!==n.key&&(s=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)k.call(n,u)&&!j.hasOwnProperty(u)&&(o[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)o.children=t;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:a,type:e.type,key:s,ref:c,props:o,_owner:i}},n.createContext=function(e,n){return void 0===n&&(n=null),(e={$$typeof:c,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=S,n.createFactory=function(e){var n=S.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:i,render:e}},n.isValidElement=w,n.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},n.memo=function(e,n){return{$$typeof:l,type:e,compare:void 0===n?null:n}},n.useCallback=function(e,n){return O().useCallback(e,n)},n.useContext=function(e,n){return O().useContext(e,n)},n.useDebugValue=function(){},n.useEffect=function(e,n){return O().useEffect(e,n)},n.useImperativeHandle=function(e,n,t){return O().useImperativeHandle(e,n,t)},n.useLayoutEffect=function(e,n){return O().useLayoutEffect(e,n)},n.useMemo=function(e,n){return O().useMemo(e,n)},n.useReducer=function(e,n,t){return O().useReducer(e,n,t)},n.useRef=function(e){return O().useRef(e)},n.useState=function(e){return O().useState(e)},n.version="17.0.2"},827378:(e,n,t)=>{e.exports=t(541535)},824246:(e,n,t)=>{e.exports=t(371426)},511151:(e,n,t)=>{t.d(n,{Zo:()=>c,ah:()=>o});var r=t(667294);const a=r.createContext({});function o(e){const n=r.useContext(a);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const s={};function c({components:e,children:n,disableParentContext:t}){let c;return c=t?"function"==typeof e?e({}):e||s:o(e),r.createElement(a.Provider,{value:c},n)}}}]);