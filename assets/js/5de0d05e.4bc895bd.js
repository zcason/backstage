/*! For license information please see 5de0d05e.4bc895bd.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[116816],{65189:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var t=n(824246),o=n(511151);const i={id:"org",title:"Microsoft Azure Active Directory Organizational Data",sidebar_label:"Org Data",description:"Importing users and groups from Microsoft Azure Active Directory into Backstage"},a=void 0,s={unversionedId:"integrations/azure/org",id:"integrations/azure/org",title:"Microsoft Azure Active Directory Organizational Data",description:"Importing users and groups from Microsoft Azure Active Directory into Backstage",source:"@site/../docs/integrations/azure/org.md",sourceDirName:"integrations/azure",slug:"/integrations/azure/org",permalink:"/docs/integrations/azure/org",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/integrations/azure/org.md",tags:[],version:"current",frontMatter:{id:"org",title:"Microsoft Azure Active Directory Organizational Data",sidebar_label:"Org Data",description:"Importing users and groups from Microsoft Azure Active Directory into Backstage"},sidebar:"docs",previous:{title:"Discovery",permalink:"/docs/integrations/azure/discovery"},next:{title:"Locations",permalink:"/docs/integrations/bitbucketCloud/locations"}},c={},l=[{value:"Installation",id:"installation",level:2},{value:"Authenticating with Microsoft Graph",id:"authenticating-with-microsoft-graph",level:2},{value:"Local Development",id:"local-development",level:3},{value:"App Registration",id:"app-registration",level:3},{value:"Managed Identity",id:"managed-identity",level:3},{value:"Filtering imported Users and Groups",id:"filtering-imported-users-and-groups",level:2},{value:"Groups",id:"groups",level:3},{value:"Users",id:"users",level:3},{value:"Customizing Transformation",id:"customizing-transformation",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"No data",id:"no-data",level:3},{value:"Authentication / Token Errors",id:"authentication--token-errors",level:3},{value:"Error while reading users from Microsoft Graph: Authorization_RequestDenied - Insufficient privileges to complete the operation",id:"error-while-reading-users-from-microsoft-graph-authorization_requestdenied---insufficient-privileges-to-complete-the-operation",level:3}];function u(e){const r=Object.assign({p:"p",h2:"h2",code:"code",pre:"pre",h3:"h3",ul:"ul",li:"li",em:"em",a:"a"},(0,o.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"The Backstage catalog can be set up to ingest organizational data - users and\nteams - directly from a tenant in Microsoft Azure Active Directory via the\nMicrosoft Graph API."}),"\n",(0,t.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsxs)(r.p,{children:["The package is not installed by default, therefore you have to add ",(0,t.jsx)(r.code,{children:"@backstage/plugin-catalog-backend-module-msgraph"})," to your backend package."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"# From your Backstage root directory\nyarn add --cwd packages/backend @backstage/plugin-catalog-backend-module-msgraph\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Next add the basic configuration to ",(0,t.jsx)(r.code,{children:"app-config.yaml"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",metastring:'title="app-config.yaml"',children:"catalog:\n  providers:\n    microsoftGraphOrg:\n      default:\n        tenantId: ${AZURE_TENANT_ID}\n        user:\n          filter: accountEnabled eq true and userType eq 'member'\n        group:\n          filter: >\n            securityEnabled eq false\n            and mailEnabled eq true\n            and groupTypes/any(c:c+eq+'Unified')\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Finally, register the plugin in ",(0,t.jsx)(r.code,{children:"catalog.ts"}),".\nFor large organizations, this plugin can take a long time, so be careful setting low frequency / timeouts and importing a large amount of users / groups for the first try."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",metastring:'title="packages/backend/src/plugins/catalog.ts"',children:"/* highlight-add-next-line */\nimport { MicrosoftGraphOrgEntityProvider } from '@backstage/plugin-catalog-backend-module-msgraph';\n\nexport default async function createPlugin(\n  env: PluginEnvironment,\n): Promise<Router> {\n  const builder = await CatalogBuilder.create(env);\n\n  /* highlight-add-start */\n  builder.addEntityProvider(\n    MicrosoftGraphOrgEntityProvider.fromConfig(env.config, {\n      logger: env.logger,\n      schedule: env.scheduler.createScheduledTaskRunner({\n        frequency: { hours: 1 },\n        timeout: { minutes: 50 },\n        initialDelay: { seconds: 15 },\n      }),\n    }),\n  );\n  /* highlight-add-end */\n\n  // ..\n}\n"})}),"\n",(0,t.jsx)(r.h2,{id:"authenticating-with-microsoft-graph",children:"Authenticating with Microsoft Graph"}),"\n",(0,t.jsx)(r.h3,{id:"local-development",children:"Local Development"}),"\n",(0,t.jsxs)(r.p,{children:["For a local dev environment, it's recommended you have the Azure CLI or Azure PowerShell installed, and are logged in to those.\nAlternatively you can use VSCode with the Azure extension if you install ",(0,t.jsx)(r.code,{children:"@azure/identity-vscode"}),".\nWhen these are set up, the plugin will authenticate with the Microsoft Graph API without you needing to configure any credentials, or granting any special permissions.\nIf you can't do this, you'll have to create an App Registration."]}),"\n",(0,t.jsx)(r.h3,{id:"app-registration",children:"App Registration"}),"\n",(0,t.jsx)(r.p,{children:"If none of the other authentication methods work, you can create an app registration in the azure portal.\nBy default the graph plugin requires the following Application permissions (not Delegated) for Microsoft Graph:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"GroupMember.Read.All"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"User.Read.All"})}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"If your organization required Admin Consent for these permissions, that will need to be granted."}),"\n",(0,t.jsxs)(r.p,{children:["When authenticating with a ClientId/ClientSecret, you can either set the ",(0,t.jsx)(r.code,{children:"AZURE_TENANT_ID"}),", ",(0,t.jsx)(r.code,{children:"AZURE_CLIENT_ID"})," and ",(0,t.jsx)(r.code,{children:"AZURE_CLIENT_SECRET"})," environment variables, or specify the values in configuration"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:"microsoftGraphOrg:\n  default:\n    ##...\n    clientId: 9ef1aac6-b454-4e69-9cf5-7199df049281\n    clientSecret: REDACTED\n"})}),"\n",(0,t.jsxs)(r.p,{children:["To authenticate with a certificate rather than a client secret, you can set the ",(0,t.jsx)(r.code,{children:"AZURE_TENANT_ID"}),", ",(0,t.jsx)(r.code,{children:"AZURE_CLIENT_ID"})," and ",(0,t.jsx)(r.code,{children:"AZURE_CLIENT_CERTIFICATE_PATH"})," environments"]}),"\n",(0,t.jsx)(r.h3,{id:"managed-identity",children:"Managed Identity"}),"\n",(0,t.jsxs)(r.p,{children:["If deploying to resources that supports Managed Identity, and has identities configured (e.g. Azure App Services, Azure Container Apps), Managed Identity should be picked up without any additional configuration.\nIf your app has multiple managed identities, you may need to set the ",(0,t.jsx)(r.code,{children:"AZURE_CLIENT_ID"})," environment variable to tell Azure Identity which identity to use."]}),"\n",(0,t.jsxs)(r.p,{children:["To grant the managed identity the same permissions as mentioned in ",(0,t.jsx)(r.em,{children:"App Registration"})," above, ",(0,t.jsx)(r.a,{href:"https://docs.microsoft.com/en-us/azure/app-service/tutorial-connect-app-access-microsoft-graph-as-app-javascript?tabs=azure-powershell",children:"please follow this guide"})]}),"\n",(0,t.jsx)(r.h2,{id:"filtering-imported-users-and-groups",children:"Filtering imported Users and Groups"}),"\n",(0,t.jsxs)(r.p,{children:["By default, the plugin will import all users and groups from your directory.\nThis can be customized through ",(0,t.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/graph/filter-query-parameter",children:"filters"})," and ",(0,t.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/graph/search-query-parameter",children:"search"})," queries. Keep in mind that if you omit filters and search queries for the user or group properties, the plugin will automatically import all available users or groups."]}),"\n",(0,t.jsx)(r.h3,{id:"groups",children:"Groups"}),"\n",(0,t.jsxs)(r.p,{children:["A smaller set of groups can be obtained by configuring a search query or a filter.\nIf both ",(0,t.jsx)(r.code,{children:"filter"})," and ",(0,t.jsx)(r.code,{children:"search"})," are provided, then groups must match both to be ingested."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:'microsoftGraphOrg:\n  providerId:\n    group:\n      filter: securityEnabled eq false and mailEnabled eq true and groupTypes/any(c:c+eq+\'Unified\')\n      search: \'"description:One" AND ("displayName:Video" OR "displayName:Drive")\'\n'})}),"\n",(0,t.jsx)(r.p,{children:"In addition to these groups, one additional group will be created for your organization.\nAll imported groups will be a child of this group."}),"\n",(0,t.jsx)(r.h3,{id:"users",children:"Users"}),"\n",(0,t.jsxs)(r.p,{children:["There are two modes for importing users - You can import all user objects matching a ",(0,t.jsx)(r.code,{children:"filter"}),"."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:"microsoftGraphOrg:\n  providerId:\n    user:\n      filter: accountEnabled eq true and userType eq 'member'\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Alternatively you can import users that are members of specific groups.\nFor each group matching the ",(0,t.jsx)(r.code,{children:"search"})," and ",(0,t.jsx)(r.code,{children:"filter"})," query, each group member will be imported.\nOnly direct group members will be imported, not transient users."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:'microsoftGraphOrg:\n  providerId:\n    userGroupMember:\n      filter: "displayName eq \'Backstage Users\'"\n      search: \'"description:One" AND ("displayName:Video" OR "displayName:Drive")\'\n'})}),"\n",(0,t.jsx)(r.h2,{id:"customizing-transformation",children:"Customizing Transformation"}),"\n",(0,t.jsxs)(r.p,{children:["Ingested entities can be customized by providing custom transformers.\nThese can be used to completely replace the built in logic, or used to tweak it by using the default transformers (",(0,t.jsx)(r.code,{children:"defaultGroupTransformer"}),", ",(0,t.jsx)(r.code,{children:"defaultUserTransformer"})," and ",(0,t.jsx)(r.code,{children:"defaultOrganizationTransformer"}),"\nEntities can also be excluded from backstage by returning ",(0,t.jsx)(r.code,{children:"undefined"}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["These Transformers are be registered when configuring ",(0,t.jsx)(r.code,{children:"MicrosoftGraphOrgEntityProvider"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"builder.addEntityProvider(\n  MicrosoftGraphOrgEntityProvider.fromConfig(env.config, {\n    // ...\n    /* highlight-add-start */\n    groupTransformer: myGroupTransformer,\n    userTransformer: myUserTransformer,\n    organizationTransformer: myOrganizationTransformer,\n    /* highlight-add-end */\n  }),\n);\n"})}),"\n",(0,t.jsx)(r.p,{children:"When using custom transformers, you may want to customize the data returned.\nSeveral configuration options can be provided to tweak the Microsoft Graph query to get the data you need"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:"microsoftGraphOrg:\n  providerId:\n    user:\n      expand: manager\n    group:\n      expand: member\n      select: ['id', 'displayName', 'description']\n"})}),"\n",(0,t.jsx)(r.p,{children:"The following provides an example of each kind of transformer"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"import * as MicrosoftGraph from '@microsoft/microsoft-graph-types';\nimport {\n  defaultGroupTransformer,\n  defaultUserTransformer,\n  defaultOrganizationTransformer,\n} from '@backstage/plugin-catalog-backend-module-msgraph';\nimport { GroupEntity, UserEntity } from '@backstage/catalog-model';\n\n// This group transformer completely replaces the built in logic with custom logic.\nexport async function myGroupTransformer(\n  group: MicrosoftGraph.Group,\n  groupPhoto?: string,\n): Promise<GroupEntity | undefined> {\n  return {\n    apiVersion: 'backstage.io/v1alpha1',\n    kind: 'Group',\n    metadata: {\n      name: group.id!,\n      annotations: {},\n    },\n    spec: {\n      type: 'aad',\n      children: [],\n    },\n  };\n}\n\n// This user transformer makes use of the built in logic, but also sets the description field\nexport async function myUserTransformer(\n  graphUser: MicrosoftGraph.User,\n  userPhoto?: string,\n): Promise<UserEntity | undefined> {\n  const backstageUser = await defaultUserTransformer(graphUser, userPhoto);\n\n  if (backstageUser) {\n    backstageUser.metadata.description = 'Loaded from Azure Active Directory';\n  }\n\n  return backstageUser;\n}\n\n// Example organization transformer that removes the organization group completely\nexport async function myOrganizationTransformer(\n  graphOrganization: MicrosoftGraph.Organization,\n): Promise<GroupEntity | undefined> {\n  return undefined;\n}\n"})}),"\n",(0,t.jsx)(r.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(r.h3,{id:"no-data",children:"No data"}),"\n",(0,t.jsxs)(r.p,{children:["First check your logs for the message ",(0,t.jsx)(r.code,{children:"Reading msgraph users and groups"}),".\nIf you don't see this, check you've registered the provider, and that the schedule is valid"]}),"\n",(0,t.jsxs)(r.p,{children:["If you see a log entry ",(0,t.jsx)(r.code,{children:"Read 0 msgraph users and 0 msgraph groups"}),", check your search and filter arguments."]}),"\n",(0,t.jsxs)(r.p,{children:["If you see the start message (",(0,t.jsx)(r.code,{children:"Reading msgraph users and groups"}),") but no end message (",(0,t.jsx)(r.code,{children:"Read X msgraph users and Y msgraph groups"}),"), then it is likely the job is taking a long time due to a large volume of data.\nThe default behavior is to import all users and groups, which is often more data than needed.\nTry importing a smaller set of data (e.g. ",(0,t.jsx)(r.code,{children:"filter: displayName eq 'John Smith'"}),")."]}),"\n",(0,t.jsx)(r.h3,{id:"authentication--token-errors",children:"Authentication / Token Errors"}),"\n",(0,t.jsxs)(r.p,{children:["See ",(0,t.jsx)(r.a,{href:"https://aka.ms/azsdk/js/identity/troubleshoot",children:"Troubleshooting Azure Identity Authentication Issues"})]}),"\n",(0,t.jsx)(r.h3,{id:"error-while-reading-users-from-microsoft-graph-authorization_requestdenied---insufficient-privileges-to-complete-the-operation",children:"Error while reading users from Microsoft Graph: Authorization_RequestDenied - Insufficient privileges to complete the operation"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Make sure you've granted all the required permissions to your application registration or managed identity"}),"\n",(0,t.jsxs)(r.li,{children:["Make sure the permissions are ",(0,t.jsx)(r.code,{children:"Application"})," permissions rather than ",(0,t.jsx)(r.code,{children:"Delegated"})]}),"\n",(0,t.jsx)(r.li,{children:'If your organization has configured "Admin consent" to be required, make sure this has been granted for your application permissions'}),"\n",(0,t.jsxs)(r.li,{children:["If your group queries are returning Microsoft Teams groups, you may need to grant addition permissions (e.g. ",(0,t.jsx)(r.code,{children:"Team.ReadBasic.All"}),", ",(0,t.jsx)(r.code,{children:"TeamMember.Read.All"}),")"]}),"\n",(0,t.jsxs)(r.li,{children:["If you've added additional ",(0,t.jsx)(r.code,{children:"select"})," or ",(0,t.jsx)(r.code,{children:"expand"})," fields, those may need additional permissions granted"]}),"\n"]})]})}const d=function(e={}){const{wrapper:r}=Object.assign({},(0,o.ah)(),e.components);return r?(0,t.jsx)(r,Object.assign({},e,{children:(0,t.jsx)(u,e)})):u(e)}},862525:e=>{var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(e){return r[e]})).join(""))return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},t)).join("")}catch(o){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))n.call(i,l)&&(s[l]=i[l]);if(r){a=r(i);for(var u=0;u<a.length;u++)t.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}},371426:(e,r,n)=>{n(862525);var t=n(827378),o=60103;if(r.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),r.Fragment=i("react.fragment")}var a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,n){var t,i={},l=null,u=null;for(t in void 0!==n&&(l=""+n),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(u=r.ref),r)s.call(r,t)&&!c.hasOwnProperty(t)&&(i[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===i[t]&&(i[t]=r[t]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:a.current}}r.jsx=l,r.jsxs=l},541535:(e,r,n)=>{var t=n(862525),o=60103,i=60106;r.Fragment=60107,r.StrictMode=60108,r.Profiler=60114;var a=60109,s=60110,c=60112;r.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),i=d("react.portal"),r.Fragment=d("react.fragment"),r.StrictMode=d("react.strict_mode"),r.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),r.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,r,n){this.props=e,this.context=r,this.refs=g,this.updater=n||f}function y(){}function v(e,r,n){this.props=e,this.context=r,this.refs=g,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,r,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=v.prototype=new y;b.constructor=v,t(b,m.prototype),b.isPureReactComponent=!0;var j={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,r,n){var t,i={},a=null,s=null;if(null!=r)for(t in void 0!==r.ref&&(s=r.ref),void 0!==r.key&&(a=""+r.key),r)x.call(r,t)&&!k.hasOwnProperty(t)&&(i[t]=r[t]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(t in c=e.defaultProps)void 0===i[t]&&(i[t]=c[t]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:j.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g;function E(e,r){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return r[e]}))}(""+e.key):r.toString(36)}function T(e,r,n,t,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case i:c=!0}}if(c)return a=a(c=e),e=""===t?"."+E(c,0):t,Array.isArray(a)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),T(a,r,n,"",(function(e){return e}))):null!=a&&(w(a)&&(a=function(e,r){return{$$typeof:o,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),r.push(a)),1;if(c=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+E(s=e[l],l);c+=T(s,r,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=T(s=s.value,r,n,u=t+E(s,l++),a);else if("object"===s)throw r=""+e,Error(h(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r));return c}function O(e,r,n){if(null==e)return e;var t=[],o=0;return T(e,t,"","",(function(e){return r.call(n,e,o++)})),t}function I(e){if(-1===e._status){var r=e._result;r=r(),e._status=0,e._result=r,r.then((function(r){0===e._status&&(r=r.default,e._status=1,e._result=r)}),(function(r){0===e._status&&(e._status=2,e._result=r)}))}if(1===e._status)return e._result;throw e._result}var z={current:null};function R(){var e=z.current;if(null===e)throw Error(h(321));return e}var C={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:j,IsSomeRendererActing:{current:!1},assign:t};r.Children={map:O,forEach:function(e,r,n){O(e,(function(){r.apply(this,arguments)}),n)},count:function(e){var r=0;return O(e,(function(){r++})),r},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error(h(143));return e}},r.Component=m,r.PureComponent=v,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,r.cloneElement=function(e,r,n){if(null==e)throw Error(h(267,e));var i=t({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=r){if(void 0!==r.ref&&(s=r.ref,c=j.current),void 0!==r.key&&(a=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in r)x.call(r,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===r[u]&&void 0!==l?l[u]:r[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:c}},r.createContext=function(e,r){return void 0===r&&(r=null),(e={$$typeof:s,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},r.createElement=_,r.createFactory=function(e){var r=_.bind(null,e);return r.type=e,r},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:c,render:e}},r.isValidElement=w,r.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:I}},r.memo=function(e,r){return{$$typeof:l,type:e,compare:void 0===r?null:r}},r.useCallback=function(e,r){return R().useCallback(e,r)},r.useContext=function(e,r){return R().useContext(e,r)},r.useDebugValue=function(){},r.useEffect=function(e,r){return R().useEffect(e,r)},r.useImperativeHandle=function(e,r,n){return R().useImperativeHandle(e,r,n)},r.useLayoutEffect=function(e,r){return R().useLayoutEffect(e,r)},r.useMemo=function(e,r){return R().useMemo(e,r)},r.useReducer=function(e,r,n){return R().useReducer(e,r,n)},r.useRef=function(e){return R().useRef(e)},r.useState=function(e){return R().useState(e)},r.version="17.0.2"},827378:(e,r,n)=>{e.exports=n(541535)},824246:(e,r,n)=>{e.exports=n(371426)},511151:(e,r,n)=>{n.d(r,{Zo:()=>s,ah:()=>i});var t=n(667294);const o=t.createContext({});function i(e){const r=t.useContext(o);return t.useMemo((()=>"function"==typeof e?e(r):{...r,...e}),[r,e])}const a={};function s({components:e,children:r,disableParentContext:n}){let s;return s=n?"function"==typeof e?e({}):e||a:i(e),t.createElement(o.Provider,{value:s},r)}}}]);